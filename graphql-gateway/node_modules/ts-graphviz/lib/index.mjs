var t,e;!function(t){t.Damping="Damping",t.K="K",t.URL="URL",t._background="_background",t.area="area",t.arrowhead="arrowhead",t.arrowsize="arrowsize",t.arrowtail="arrowtail",t.bb="bb",t.bgcolor="bgcolor",t.center="center",t.charset="charset",t.clusterrank="clusterrank",t.color="color",t.colorscheme="colorscheme",t.comment="comment",t.compound="compound",t.concentrate="concentrate",t.constraint="constraint",t.decorate="decorate",t.defaultdist="defaultdist",t.dim="dim",t.dimen="dimen",t.dir="dir",t.diredgeconstraints="diredgeconstraints",t.distortion="distortion",t.dpi="dpi",t.edgeURL="edgeURL",t.edgehref="edgehref",t.edgetarget="edgetarget",t.edgetooltip="edgetooltip",t.epsilon="epsilon",t.esep="esep",t.fillcolor="fillcolor",t.fixedsize="fixedsize",t.fontcolor="fontcolor",t.fontname="fontname",t.fontnames="fontnames",t.fontpath="fontpath",t.fontsize="fontsize",t.forcelabels="forcelabels",t.gradientangle="gradientangle",t.group="group",t.headURL="headURL",t.head_lp="head_lp",t.headclip="headclip",t.headhref="headhref",t.headlabel="headlabel",t.headport="headport",t.headtarget="headtarget",t.headtooltip="headtooltip",t.height="height",t.href="href",t.id="id",t.image="image",t.imagepath="imagepath",t.imagepos="imagepos",t.imagescale="imagescale",t.inputscale="inputscale",t.label="label",t.labelURL="labelURL",t.label_scheme="label_scheme",t.labelangle="labelangle",t.labeldistance="labeldistance",t.labelfloat="labelfloat",t.labelfontcolor="labelfontcolor",t.labelfontname="labelfontname",t.labelfontsize="labelfontsize",t.labelhref="labelhref",t.labeljust="labeljust",t.labelloc="labelloc",t.labeltarget="labeltarget",t.labeltooltip="labeltooltip",t.landscape="landscape",t.layer="layer",t.layerlistsep="layerlistsep",t.layers="layers",t.layerselect="layerselect",t.layersep="layersep",t.layout="layout",t.len="len",t.levels="levels",t.levelsgap="levelsgap",t.lhead="lhead",t.lheight="lheight",t.lp="lp",t.ltail="ltail",t.lwidth="lwidth",t.margin="margin",t.maxiter="maxiter",t.mclimit="mclimit",t.mindist="mindist",t.minlen="minlen",t.mode="mode",t.model="model",t.mosek="mosek",t.newrank="newrank",t.nodesep="nodesep",t.nojustify="nojustify",t.normalize="normalize",t.notranslate="notranslate",t.nslimit="nslimit",t.nslimit1="nslimit1",t.ordering="ordering",t.orientation="orientation",t.outputorder="outputorder",t.overlap="overlap",t.overlap_scaling="overlap_scaling",t.overlap_shrink="overlap_shrink",t.pack="pack",t.packmode="packmode",t.pad="pad",t.page="page",t.pagedir="pagedir",t.pencolor="pencolor",t.penwidth="penwidth",t.peripheries="peripheries",t.pin="pin",t.pos="pos",t.quadtree="quadtree",t.quantum="quantum",t.rank="rank",t.rankdir="rankdir",t.ranksep="ranksep",t.ratio="ratio",t.rects="rects",t.regular="regular",t.remincross="remincross",t.repulsiveforce="repulsiveforce",t.resolution="resolution",t.root="root",t.rotate="rotate",t.rotation="rotation",t.samehead="samehead",t.sametail="sametail",t.samplepoints="samplepoints",t.scale="scale",t.searchsize="searchsize",t.sep="sep",t.shape="shape",t.shapefile="shapefile",t.showboxes="showboxes",t.sides="sides",t.size="size",t.skew="skew",t.smoothing="smoothing",t.sortv="sortv",t.splines="splines",t.start="start",t.style="style",t.stylesheet="stylesheet",t.tailURL="tailURL",t.tail_lp="tail_lp",t.tailclip="tailclip",t.tailhref="tailhref",t.taillabel="taillabel",t.tailport="tailport",t.tailtarget="tailtarget",t.tailtooltip="tailtooltip",t.target="target",t.tooltip="tooltip",t.truecolor="truecolor",t.vertices="vertices",t.viewport="viewport",t.voro_margin="voro_margin",t.weight="weight",t.width="width",t.xdotversion="xdotversion",t.xlabel="xlabel",t.xlp="xlp",t.z="z"}(t||(t={})),function(t){t.n="n",t.ne="ne",t.e="e",t.se="se",t.s="s",t.sw="sw",t.w="w",t.nw="nw",t.c="c";var e=[t.n,t.ne,t.e,t.se,t.s,t.sw,t.w,t.nw,t.c];t.is=function(t){return e.includes(t)}}(e||(e={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function i(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t}var a=function(){},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(a),l=function(t){function e(e){var r=t.call(this)||this;return r.attrs=new Map,void 0!==e&&r.apply(e),r}return n(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.attrs.entries())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.attrs.size},enumerable:!1,configurable:!0}),e.prototype.get=function(t){return this.attrs.get(t)},e.prototype.set=function(t,e){null!=e&&this.attrs.set(t,e)},e.prototype.delete=function(t){this.attrs.delete(t)},e.prototype.apply=function(t){for(var e=0,r=Array.isArray(t)?t:Object.entries(t);e<r.length;e++){var n=r[e],o=n[0],i=n[1];this.set(o,i)}},e.prototype.clear=function(){this.attrs.clear()},e}(s),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(l),p=function(t){function e(e,r){var n=t.call(this)||this;return n.id=e,n.attributes=new u(r),n}return n(e,t),e.prototype.port=function(t){return"string"==typeof t?{id:this.id,port:t}:o({id:this.id},t)},e}(s);function c(t){return"object"==typeof t&&null!==t&&"string"==typeof t.id}function f(t){return t instanceof p||c(t)}function d(t){return"string"==typeof t||f(t)}function h(t){if(f(t))return t;var r=t.split(":"),n=r[0],o=r[1],i=r[2];return e.is(i)?{id:n,port:o,compass:i}:{id:n,port:o}}var g=function(t){function e(e,r){var n=t.call(this)||this;if(n.targets=e,e.length<2&&!1===(d(e[0])&&d(e[1])))throw Error("The element of Edge target is missing or not satisfied as Edge target.");return n.attributes=new u(r),n}return n(e,t),e}(s),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.objects={nodes:new Map,edges:new Set,subgraphs:new Set},e}return n(e,t),Object.defineProperty(e.prototype,"nodes",{get:function(){return Array.from(this.objects.nodes.values())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"edges",{get:function(){return Array.from(this.objects.edges.values())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subgraphs",{get:function(){return Array.from(this.objects.subgraphs.values())},enumerable:!1,configurable:!0}),e.prototype.addNode=function(t){this.objects.nodes.set(t.id,t)},e.prototype.addEdge=function(t){this.objects.edges.add(t)},e.prototype.addSubgraph=function(t){this.objects.subgraphs.add(t)},e.prototype.existNode=function(t){return this.objects.nodes.has(t)},e.prototype.existEdge=function(t){return this.objects.edges.has(t)},e.prototype.existSubgraph=function(t){return this.objects.subgraphs.has(t)},e.prototype.createSubgraph=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.find((function(t){return"string"==typeof t})),n=t.find((function(t){return"object"==typeof t})),o=new y(r,n);return this.objects.subgraphs.add(o),o},e.prototype.removeNode=function(t){this.objects.nodes.delete("string"==typeof t?t:t.id)},e.prototype.removeEdge=function(t){this.objects.edges.delete(t)},e.prototype.removeSubgraph=function(t){this.objects.subgraphs.delete(t)},e.prototype.createNode=function(t,e){var r=new p(t,e);return this.objects.nodes.set(t,r),r},e.prototype.getSubgraph=function(t){return Array.from(this.objects.subgraphs.values()).find((function(e){return e.id===t}))},e.prototype.getNode=function(t){return this.objects.nodes.get(t)},e.prototype.createEdge=function(t,e){var r=t.map((function(t){return e=t,Array.isArray(e)&&e.every(d)?function(t){if(t.length<2&&!1===(d(t[0])&&d(t[1])))throw Error("EdgeTargets must have at least 2 elements.");return t.map((function(t){return h(t)}))}(t):h(t);var e})),n=new g(r,e);return this.objects.edges.add(n),n},e.prototype.subgraph=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.find((function(t){return"string"==typeof t})),o=e.find((function(t){return"object"==typeof t&&null!==t})),i=e.find((function(t){return"function"==typeof t})),a=n?null!==(t=this.getSubgraph(n))&&void 0!==t?t:this.createSubgraph(n):this.createSubgraph();return void 0!==o&&a.apply(o),void 0!==i&&i(a),a},e.prototype.node=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("string"==typeof t){var o=t,i=r.find((function(t){return"object"==typeof t&&null!==t})),a=r.find((function(t){return"function"==typeof t})),s=null!==(e=this.getNode(o))&&void 0!==e?e:this.createNode(o);return void 0!==i&&s.attributes.apply(i),void 0!==a&&a(s),s}"object"==typeof t&&null!==t&&this.attributes.node.apply(t)},e.prototype.edge=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Array.isArray(t)){var n=t,o=e.find((function(t){return"object"==typeof t})),i=e.find((function(t){return"function"==typeof t})),a=this.createEdge(n,o);return void 0!==i&&i(a),a}"object"==typeof t&&null!==t&&this.attributes.edge.apply(t)},e.prototype.graph=function(t){this.attributes.graph.apply(t)},e}(l),y=function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.call(this)||this;n.attributes={graph:new u,edge:new u,node:new u},n.id=e.find((function(t){return"string"==typeof t}));var o=e.find((function(t){return"object"==typeof t&&null!==t}));return void 0!==o&&n.apply(o),n}return n(e,t),e.prototype.isSubgraphCluster=function(){return"string"==typeof this.id&&this.id.startsWith("cluster")},e}(b),v=function(t){function e(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=t.call(this)||this;o.attributes={graph:new u,edge:new u,node:new u},o.id=r.find((function(t){return"string"==typeof t})),o.strict=null!==(e=r.find((function(t){return"boolean"==typeof t})))&&void 0!==e&&e;var i=r.find((function(t){return"object"==typeof t&&null!==t}));return void 0!==i&&o.apply(i),o}return n(e,t),e}(b),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(v),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(v);function j(t,e){return void 0===e&&(e=!1),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=r.find((function(t){return"string"==typeof t})),i=r.find((function(t){return"object"==typeof t})),a=r.find((function(t){return"function"==typeof t})),s=new t(o,i,e);return"function"==typeof a&&a(s),s}}var k=j(w),z=j(m),_={digraph:j(w,!0),graph:j(m,!0)};var x,S,O=(x='"',function(t){return function(t,e){return""+e+t+e}(t,x)}),E=(S=" ",function(t){if("string"==typeof t)return function(t,e){return""+e+t}(t,S)});function A(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter((function(t){return"string"==typeof t})).join(t)}}var R=A(" "),L=A(":"),N=A("\n"),U=A("");function P(t){return t.split("\n").map((function(t){return U("  ",t)})).join("\n")}function C(t){return"string"==typeof t?function(t){return t.split("\n").map((function(t){return U("// ",t).trim()})).join("\n")}(t):void 0}function q(t){return t instanceof y}function T(t){return t instanceof p}function D(t){return t instanceof m}function K(t){return t instanceof w?"digraph":D(t)?"graph":q(t)?"subgraph":void 0}function M(t){var e="string"!=typeof t,r=!1,n=!1,o="string"==typeof t?t:t.toString();if(e)r=!1;else{var i=o.trim();(r=/^<.+>$/ms.test(i))?o=i:n=!0}return e||r?o:n?O(o.replace(/\n/g,"\\n").replace(/"/g,'\\"')):o}function W(t){return function(e){var r=e[0],n=e[1];return U(r," = ",M(n),t)}}var $=W(";"),B=W(",");function F(t){return 0===t.size?"":N("[",P(N.apply(void 0,i([C(t.comment)],t.values.map(B)))),"]")}function G(t){if(T(t))return M(t.id);if(c(t)){var e=t.id,r=t.port,n=t.compass;return L(M(e),void 0!==r?M(r):void 0,void 0!==n?M(n):void 0)}}var H=function(){function t(){}return t.prototype.renderNode=function(t){var e=C(t.comment),r=G(t),n=t.attributes.size>0?E(F(t.attributes)):void 0,o=U(r,n,";");return N(e,o)},t.prototype.renderEdge=function(t){var e,r=C(t.comment),n=(e=D(this.root)?" -- ":" -> ",t.targets.map((function(t){return f(t)?G(t):(e=t,"{"+R.apply(void 0,e.map(G))+"}");var e})).filter((function(t){return"string"==typeof t})).join(e)),o=t.attributes.size>0?E(F(t.attributes)):void 0,i=U(n,o,";");return N(r,i)},t.prototype.renderCluster=function(t){var e=K(t),r=void 0!==t.id?M(t.id):void 0,n=t.values.map($),o=Object.entries(t.attributes).filter((function(t){return t[1].size>0})).map((function(t){var e=t[0],r=t[1];return U(e," ",F(r),";")})),a=t.nodes.map(this.renderNode.bind(this)),s=t.subgraphs.map(this.renderSubgraph.bind(this)),l=t.edges.map(this.renderEdge.bind(this)),u=N.apply(void 0,i(i(i(i(i([],n),o),a),s),l));return N(R(e,r,"{"),u.length>0?P(u):void 0,"}")},t.prototype.renderRootCluster=function(t){var e=C(t.comment),r=this.renderCluster(t);return N(e,R(t.strict?"strict":void 0,r))},t.prototype.renderSubgraph=function(t){var e=C(t.comment),r=this.renderCluster(t);return N(e,r)},t.prototype.render=function(t){return T(t)?this.renderNode(t):function(t){return t instanceof g}(t)?this.renderEdge(t):function(t){return t instanceof u}(t)?F(t):q(t)?this.renderSubgraph(t):function(t){return t instanceof v}(t)?(this.root=t,this.renderRootCluster(t)):M(t)},t}();function I(t){return(new H).render(t)}export{u as Attributes,l as AttributesBase,b as Cluster,e as Compass,w as Digraph,s as DotObject,g as Edge,m as Graph,a as GraphvizObject,p as Node,v as RootCluster,y as Subgraph,t as attribute,k as digraph,z as graph,_ as strict,I as toDot};
